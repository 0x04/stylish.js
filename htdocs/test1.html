<!DOCTYPE html>
<html>
<head>
    <title></title>
    
    <link rel="stylesheet"
          type="text/css"
          href="test1.css"
          stylish
    />
    
    <style type="text/css" stylish>
        
        body
        {
            background-color: red;
            /* ... */
            content: "stylish('hello world. sq')";
        }
        
        .stylish-button
        {
            content: 'stylish({ "click": "value" })';
        }
        
        .test[stylish='{"abc":123}']
        {
            
        }
        
        
    </style>
    
    <script type="text/javascript" src="../src/stylish.js"></script>
</head>
<body>

<div style="content: &quot;stylish('inline element')&quot;" stylish>123</div>

<button class="stylish-button">test</button>

<script type="text/javascript" src="test1.js"></script>

<script type="text/javascript">

    console.time('init');
    stylish.addExpressionHandler(function(args, styleProvider)
    {
        console.info('[testExpressionHandler]', this, args, styleProvider.toString());
        if (args.hasOwnProperty('click'))
        {
            this.addEventListener('click', function(event)
            {
                console.info('click!', args.click);
            });
        }
    });
    stylish.init();
    console.timeEnd('init');

</script>

</body>
</html>